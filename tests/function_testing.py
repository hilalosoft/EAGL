import unittest

from bs4 import BeautifulSoup

from Classes.PredictionClass import XpathClass
from database.statistics.soup_operations import  cal_length, get_siblings_soup, \
    generate_vectors_for_attr, generate_vectors_from_soup, xpath_soup, find_element_by_xpath_soup, \
    element_changed, remove_link_prefix
from Classes.DriverClass import DriverObject


class dataTestCase(unittest.TestCase):

    def test_cal_max_depth(self):
        html_doc = """
        <html><head><title>The Dormouse's story</title></head>
        <body>
        <p class="title"><b>The Dormouse's story</b></p>

        <p class="story">Once upon a time there were three little sisters; and their names were
        <a href="http://example.com/elsie" class="sister" id="link1">Elsie</a>,
        <a href="http://example.com/lacie" class="sister" id="link2">Lacie</a> and
        <a href="http://example.com/tillie" class="sister" id="link3">Tillie</a>;
        and they lived at the bottom of a well.</p>

        <p class="story">...</p>
        </body>
        </html>
        """

        parsed_dom = BeautifulSoup(html_doc, 'html.parser')
        max_depth = cal_max_length(parsed_dom)
        self.assertEqual(max_depth, 5)  # add assertion here

    def test_cal_depth(self):
        html_doc = """
                <html><head><title>The Dormouse's story</title></head>
                <body>
                <p class="title"><b>The Dormouse's story</b></p>

                <p class="story">Once upon a time there were three little sisters; and their names were
                <a href="http://example.com/elsie" class="sister" id="link1">Elsie</a>,
                <a href="http://example.com/lacie" class="sister" id="link2">Lacie</a> and
                <a href="http://example.com/tillie" class="sister" id="link3">Tillie</a>;
                and they lived at the bottom of a well.</p>

                <p class="story">...</p>
                </body>
                </html>
                """
        parsed_dom = BeautifulSoup(html_doc, 'html.parser')
        depth = cal_length(parsed_dom.a, 5)
        self.assertEqual(depth, 4 / 5)  # add assertion here

    def test_siblings_soup(self):
        html_doc = """
                        <html><head><title>The Dormouse's story</title></head>
                        <body>
                        <p class="title"><b>The Dormouse's story</b></p>

                        <p class="story">Once upon a time there were three little sisters; and their names were
                        <a href="http://example.com/elsie" class="sister" id="link1">Elsie</a>,
                        <a href="http://example.com/lacie" class="sister" id="link2">Lacie</a> and
                        <a href="http://example.com/tillie" class="sister" id="link3">Tillie</a>;
                        and they lived at the bottom of a well.</p>

                        <p class="story">...</p>
                        </body>
                        </html>
                        """
        parsed_dom = BeautifulSoup(html_doc, 'html.parser')
        position, siblings_list = get_siblings_soup(parsed_dom.body.a)
        siblings_dictionary = {"id": 0, "string": 0, "ul": 0, "li": 0, "h1": 0, "h2": 0, "h3": 0, "h4": 0,
                               "h5": 0,
                               "div": 0
            , "span": 0, "form": 0, "input": 0, "p": 0, "img": 0, 'a': 2 / 7, "dl": 0, "dt": 0, "dd": 0, "svg": 0,
                               "path": 0, "g": 0
            , "option": 0, "i": 0, "attribute": 0, "button": 0, "class": 0, "href": 0, "other": 4 / 7}
        self.maxDiff = None
        self.assertEqual(siblings_list, siblings_dictionary)  # add assertion here
        self.assertEqual(position, 2 / 7)  # add assertion here

    # def test_xpath_soup(self):
    #     self.assertEqual(True, False)  # add assertion here

    # def test_generate_vectors_for_attr(self):
    #     html_doc = """
    #                 <html><head><title>The Dormouse's story</title></head>
    #                 <body>
    #                 <p class="title"><b>The Dormouse's story</b></p>
    #
    #                 <p class="story">Once upon a time there were three little sisters; and their names were
    #                 <a href="http://example.com/elsie" class="sister" id="link1">Elsie</a>,
    #                 <a href="http://example.com/lacie" class="sister" id="link2">Lacie</a> and
    #                 <a href="http://example.com/tillie" class="sister" id="link3">Tillie</a>;
    #                 and they lived at the bottom of a well.</p>
    #
    #                 <p class="story">...</p>
    #                 </body>
    #                 </html>
    #                 """
    #     parsed_dom = BeautifulSoup(html_doc, 'html.parser')
    #
    #     vectors = generate_vector_from_soup(parsed_dom.body.a, 5)
    #     # vectors = generate_vectors_for_attr(parsed_dom.body.a)
    #     self.assertEqual(True, False)  # add assertion here

    # def test_element_changed(self):
    #     html_doc = """
    #                 <html><head><title>The Dormouse's story</title></head>
    #                 <body>
    #                 <p class="title"><b>The Dormouse's story</b></p>
    #
    #                 <p class="story">Once upon a time there were three little sisters; and their names were
    #                 <a href="http://example.com/elsie" class="sister" id="link1">Elsie</a>,
    #                 <a href="http://example.com/lacie" class="sister" id="link2">Lacie</a> and
    #                 <a href="http://example.com/tillie" class="sister" id="link3">Tillie</a>;
    #                 and they lived at the bottom of a well.</p>
    #
    #                 <p class="story">...</p>
    #                 </body>
    #                 </html>
    #                 """
    #     parsed_dom = BeautifulSoup(html_doc, 'html.parser')
    #     xpath = xpath_soup(parsed_dom.a)
    #     DO = DriverObject()
    #     DO.get_page(html_doc)
    #     changed = DO.element_changed(xpath, parsed_dom.a)
    #     # changed = element_changed(xpath, parsed_dom.a, parsed_dom2)
    #
    #     self.assertEqual(changed, False)  # add assertion here

    def test_find_element_by_xpath_soup(self):
        html_doc = """
                    <html><head><title>The Dormouse's story</title></head>
                    <body>
                    <p class="title"><b>The Dormouse's story</b></p>

                    <p class="story">Once upon a time there were three little sisters; and their names were
                    <a href="http://example.com/elsie" class="sister" id="link1">Elsie</a>,
                    <a href="http://example.com/lacie" class="sister" id="link2">Lacie</a> and
                    <a href="http://example.com/tillie" class="sister" id="link3">Tillie</a>;
                    and they lived at the bottom of a well.</p>

                    <p class="story">...</p>
                    </body>
                    </html>
                    """

        html_doc2 = """
                        <html><head><title>The Dormouse's story</title></head>
                        <body>
                        <p class="title"><b>The Dormouse's story</b></p>

                        <p class="story">Once upon a time there were three little sisters; and their names were
                        <a href="http://example.com/elsiea" class="sister" id="link1">Elsiea</a>,
                        <a href="http://example.com/lacie" class="sister" id="link2">Lacie</a> and
                        <a href="http://example.com/tillie" class="sister" id="link3">Tillie</a>;
                        and they lived at the bottom of a well.</p>

                        <p class="story">...</p>
                        </body>
                        </html>
                        """
        parsed_dom = BeautifulSoup(html_doc, 'html.parser')
        parsed_dom2 = BeautifulSoup(html_doc2, 'html.parser')
        xpath = xpath_soup(parsed_dom.a)
        changed = element_changed(parsed_dom2, xpath, parsed_dom.a, attribute=None, text_content="Elsie")
        changed2 = element_changed(parsed_dom2, xpath, parsed_dom.a, attribute="href", text_content="http://example"
                                                                                                    ".com/elsie")

        self.assertEqual(changed, True)  # add assertion here
        self.assertEqual(changed2, True)  # add assertion here

    def test_remove_link_prefix(self):
        link1 = "http://example.com/elsiea"
        link2 = "https://web.archive.org/web/20190203214011if_/http://www.googletagmanager.com/ns.html?id=GTM-P379T3"
        self.assertEqual("example.com/elsiea", remove_link_prefix(link1))
        self.assertEqual("www.googletagmanager.com/ns.html?id=GTM-P379T3", remove_link_prefix(link2))


class TestXpathSoup(unittest.TestCase):
    def test_xpath_soup(self):
        from bs4 import BeautifulSoup
        soup = BeautifulSoup('<html><body><div><p>Hello</p></div></body></html>', 'html.parser')
        p_tag = soup.find('p')
        self.assertEqual(xpath_soup(p_tag), '/html/body/div/p')

    def test_xpath_soup_with_multiple_tags(self):
        from bs4 import BeautifulSoup
        soup = BeautifulSoup('<html><body><div><p>Hello</p><p>World</p></div></body></html>', 'html.parser')
        p_tag = soup.find_all('p')[1]
        self.assertEqual(xpath_soup(p_tag), '/html/body/div/p[2]')


class TestCalMaxDepth(unittest.TestCase):
    def test_cal_max_depth(self):
        from bs4 import BeautifulSoup
        soup = BeautifulSoup('<html><body><div><p>Hello</p></div></body></html>', 'html.parser')
        self.assertEqual(cal_max_length(soup), 5)

    def test_cal_max_depth_with_multiple_nested_tags(self):
        from bs4 import BeautifulSoup
        soup = BeautifulSoup('<html><body><div><p><span>Hello</span></p></div></body></html>', 'html.parser')
        self.assertEqual(cal_max_length(soup), 6)


class TestRobustLocatorGeneration(unittest.TestCase):
    def test_generate_locators(self):
        from bs4 import BeautifulSoup
        soup = BeautifulSoup('<html><body><div class="osu-layout__section osu-layout__section--full js-content beatmaps_index"><div class="js-react--beatmaps" data-advanced-search="0"><div class="header-v4 header-v4--beatmapsets"><div class="header-v4__container header-v4__container--main"><div class="header-v4__bg-container"><div class="header-v4__bg"></div></div><div class="hidden-xs js-sync-height--target" data-sync-height-id="notification-banners" style="min-height: 0px;"></div><div class="header-v4__content"><div class="header-v4__row header-v4__row--title"><div class="header-v4__icon"></div><div class="header-v4__title">beatmap listing</div></div></div></div></div><div class="osu-page osu-page--beatmapsets-search-header"><div class="beatmapsets-search"><div class="beatmapsets-search__cover"><div class="beatmapset-cover beatmapset-cover--full" style="--bg: url(&quot;https://assets.ppy.sh/beatmaps/1139542/covers/cover.jpg?1685940250&quot;); --bg-2x: url(&quot;https://assets.ppy.sh/beatmaps/1139542/covers/cover@2x.jpg?1685940250&quot;);"></div></div><div class="beatmapsets-search__input-container js-user-link"><input class="beatmapsets-search__input" disabled="" placeholder="Sign in to search."><div class="beatmapsets-search__icon"><i class="fas fa-search"></i></div></div></div></div><div class="js-sticky-header"></div><div class="osu-layout__row osu-layout__row--page-compact"><div class="beatmapsets"><div class="beatmapsets__content js-audio--group"><div style="box-sizing: border-box; height: 13000px; padding-top: 0px;"><div class="beatmapsets__items"><div class="beatmapsets__items-row"><div class="beatmapsets__item"><div class="beatmapset-panel beatmapset-panel--size-normal js-audio--player" data-audio-url="//b.ppy.sh/preview/1139542.mp3" style="--beatmaps-popup-transition-duration: 150ms;"><a class="beatmapset-panel__cover-container" href="https://osu.ppy.sh/beatmapsets/1139542"><div class="beatmapset-panel__cover-col beatmapset-panel__cover-col--play"><div class="beatmapset-cover beatmapset-cover--full" style="--bg: url(&quot;https://assets.ppy.sh/beatmaps/1139542/covers/list.jpg?1685940250&quot;); --bg-2x: url(&quot;https://assets.ppy.sh/beatmaps/1139542/covers/list@2x.jpg?1685940250&quot;);"></div></div><div class="beatmapset-panel__cover-col beatmapset-panel__cover-col--info"></div></a><div class="beatmapset-panel__content"><div class="beatmapset-panel__play-container"><button class="beatmapset-panel__play js-audio--play" type="button"><span class="play-button"></span></button><div class="beatmapset-panel__play-progress"><div class="circular-progress circular-progress--beatmapset-panel" title="0 / 1"><div class="circular-progress__label">1</div><div class="circular-progress__slice"><div class="circular-progress__circle"></div><div class="circular-progress__circle circular-progress__circle--fill"></div></div></div></div><div class="beatmapset-panel__play-icons"></div></div><div class="beatmapset-panel__info"><div class="beatmapset-panel__info-row beatmapset-panel__info-row--title"><a class="beatmapset-panel__main-link u-ellipsis-overflow" href="https://osu.ppy.sh/beatmapsets/1139542">Virtual to LIVE</a><div class="beatmapset-panel__badge-container"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--artist"><a class="beatmapset-panel__main-link u-ellipsis-overflow" href="https://osu.ppy.sh/beatmapsets/1139542">by Nijisanji</a><div class="beatmapset-panel__badge-container"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--source"><div class="u-ellipsis-overflow">Nijisanji Project 1st Anniversary</div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--mapper"><div class="u-ellipsis-overflow">mapped by <a class="js-usercard beatmapset-panel__mapper-link u-hover" data-user-id="766374" href="https://osu.ppy.sh/users/766374">LostCool</a></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--stats"><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--favourite-count" title="Favourites: 31"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw far fa-heart"></i></span><span>31</span></div><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--play-count" title="Playcount: 5,138"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw fas fa-play-circle"></i></span><span>5.1K</span></div><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--date"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw fas fa-check-circle"></i></span><time class="js-tooltip-time" datetime="2023-06-05T13:09:51Z" title="2023-06-05T13:09:51Z">5 Jun 2023</time></div></div><a class="beatmapset-panel__info-row beatmapset-panel__info-row--extra" href="https://osu.ppy.sh/beatmapsets/1139542"><div class="beatmapset-panel__extra-item"><div class="beatmapset-status beatmapset-status--panel" style="--bg-hsl: var(--beatmapset-loved-bg-hsl); --colour: var(--beatmapset-loved-colour);">Loved</div></div><div class="beatmapset-panel__extra-item beatmapset-panel__extra-item--dots"><div class="beatmapset-panel__beatmap-icon"><i class="fal fa-extra-mode-mania"></i></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(241, 76, 135);"></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(19, 16, 111);"></div></div></a></div><div class="beatmapset-panel__menu-container"><div class="beatmapset-panel__menu"><span class="beatmapset-panel__menu-item beatmapset-panel__menu-item--disabled" title="sign in to favourite this beatmap"><span class="far fa-heart"></span></span><span class="beatmapset-panel__menu-item beatmapset-panel__menu-item--disabled" title="you need to sign in before downloading any beatmaps!"><span class="fas fa-file-download"></span></span></div></div></div><button class="beatmapset-panel__mobile-expand" type="button"><span class="fas fa-angle-down"></span></button></div></div></div><div class="beatmapsets__items-row"><div class="beatmapsets__item"><div class="beatmapset-panel beatmapset-panel--size-normal js-audio--player" data-audio-url="//b.ppy.sh/preview/1979805.mp3" style="--beatmaps-popup-transition-duration: 150ms;"><a class="beatmapset-panel__cover-container" href="https://osu.ppy.sh/beatmapsets/1979805"><div class="beatmapset-panel__cover-col beatmapset-panel__cover-col--play"><div class="beatmapset-cover beatmapset-cover--full" style="--bg: url(&quot;https://assets.ppy.sh/beatmaps/1979805/covers/list.jpg?1685355022&quot;); --bg-2x: url(&quot;https://assets.ppy.sh/beatmaps/1979805/covers/list@2x.jpg?1685355022&quot;);"></div></div><div class="beatmapset-panel__cover-col beatmapset-panel__cover-col--info"></div></a><div class="beatmapset-panel__content"><div class="beatmapset-panel__play-container"><button class="beatmapset-panel__play js-audio--play" type="button"><span class="play-button"></span></button><div class="beatmapset-panel__play-progress"><div class="circular-progress circular-progress--beatmapset-panel" title="0 / 1"><div class="circular-progress__label">1</div><div class="circular-progress__slice"><div class="circular-progress__circle"></div><div class="circular-progress__circle circular-progress__circle--fill"></div></div></div></div><div class="beatmapset-panel__play-icons"></div></div><div class="beatmapset-panel__info"><div class="beatmapset-panel__info-row beatmapset-panel__info-row--title"><a class="beatmapset-panel__main-link u-ellipsis-overflow" href="https://osu.ppy.sh/beatmapsets/1979805">Airplane</a><div class="beatmapset-panel__badge-container"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--artist"><a class="beatmapset-panel__main-link u-ellipsis-overflow" href="https://osu.ppy.sh/beatmapsets/1979805">by IZ*ONE</a><div class="beatmapset-panel__badge-container"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--source"><div class="u-ellipsis-overflow"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--mapper"><div class="u-ellipsis-overflow">mapped by <a class="js-usercard beatmapset-panel__mapper-link u-hover" data-user-id="18382591" href="https://osu.ppy.sh/users/18382591">Chrisse</a></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--stats"><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--favourite-count" title="Favourites: 10"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw far fa-heart"></i></span><span>10</span></div><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--play-count" title="Playcount: 162"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw fas fa-play-circle"></i></span><span>162</span></div><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--date"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw fas fa-check-circle"></i></span><time class="js-tooltip-time" datetime="2023-06-05T11:24:29Z" title="2023-06-05T11:24:29Z">5 Jun 2023</time></div></div><a class="beatmapset-panel__info-row beatmapset-panel__info-row--extra" href="https://osu.ppy.sh/beatmapsets/1979805"><div class="beatmapset-panel__extra-item"><div class="beatmapset-status beatmapset-status--panel" style="--bg-hsl: var(--beatmapset-ranked-bg-hsl); --colour: var(--beatmapset-ranked-colour);">Ranked</div></div><div class="beatmapset-panel__extra-item beatmapset-panel__extra-item--dots"><div class="beatmapset-panel__beatmap-icon"><i class="fal fa-extra-mode-mania"></i></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(79, 194, 254);"></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(79, 247, 220);"></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(167, 251, 83);"></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(250, 201, 97);"></div></div></a></div><div class="beatmapset-panel__menu-container"><div class="beatmapset-panel__menu"><span class="beatmapset-panel__menu-item beatmapset-panel__menu-item--disabled" title="sign in to favourite this beatmap"><span class="far fa-heart"></span></span><span class="beatmapset-panel__menu-item beatmapset-panel__menu-item--disabled" title="you need to sign in before downloading any beatmaps!"><span class="fas fa-file-download"></span></span></div></div></div><button class="beatmapset-panel__mobile-expand" type="button"><span class="fas fa-angle-down"></span></button></div></div></div><div class="beatmapsets__items-row"><div class="beatmapsets__item"><div class="beatmapset-panel beatmapset-panel--size-normal js-audio--player" data-audio-url="//b.ppy.sh/preview/1995596.mp3" style="--beatmaps-popup-transition-duration: 150ms;"><a class="beatmapset-panel__cover-container" href="https://osu.ppy.sh/beatmapsets/1995596"><div class="beatmapset-panel__cover-col beatmapset-panel__cover-col--play"><div class="beatmapset-cover beatmapset-cover--full" style="--bg: url(&quot;https://assets.ppy.sh/beatmaps/1995596/covers/list.jpg?1685296099&quot;); --bg-2x: url(&quot;https://assets.ppy.sh/beatmaps/1995596/covers/list@2x.jpg?1685296099&quot;);"></div></div><div class="beatmapset-panel__cover-col beatmapset-panel__cover-col--info"></div></a><div class="beatmapset-panel__content"><div class="beatmapset-panel__play-container"><button class="beatmapset-panel__play js-audio--play" type="button"><span class="play-button"></span></button><div class="beatmapset-panel__play-progress"><div class="circular-progress circular-progress--beatmapset-panel" title="0 / 1"><div class="circular-progress__label">1</div><div class="circular-progress__slice"><div class="circular-progress__circle"></div><div class="circular-progress__circle circular-progress__circle--fill"></div></div></div></div><div class="beatmapset-panel__play-icons"></div></div><div class="beatmapset-panel__info"><div class="beatmapset-panel__info-row beatmapset-panel__info-row--title"><a class="beatmapset-panel__main-link u-ellipsis-overflow" href="https://osu.ppy.sh/beatmapsets/1995596">Yuki wa Naniiro</a><div class="beatmapset-panel__badge-container"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--artist"><a class="beatmapset-panel__main-link u-ellipsis-overflow" href="https://osu.ppy.sh/beatmapsets/1995596">by Kotoha</a><div class="beatmapset-panel__badge-container"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--source"><div class="u-ellipsis-overflow">ましろ色シンフォニー SANA EDITION</div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--mapper"><div class="u-ellipsis-overflow">mapped by <a class="js-usercard beatmapset-panel__mapper-link u-hover" data-user-id="2849992" href="https://osu.ppy.sh/users/2849992">Garden</a></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--stats"><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--favourite-count" title="Favourites: 39"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw far fa-heart"></i></span><span>39</span></div><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--play-count" title="Playcount: 2,724"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw fas fa-play-circle"></i></span><span>2.7K</span></div><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--date"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw fas fa-check-circle"></i></span><time class="js-tooltip-time" datetime="2023-06-05T10:04:07Z" title="2023-06-05T10:04:07Z">5 Jun 2023</time></div></div><a class="beatmapset-panel__info-row beatmapset-panel__info-row--extra" href="https://osu.ppy.sh/beatmapsets/1995596"><div class="beatmapset-panel__extra-item"><div class="beatmapset-status beatmapset-status--panel" style="--bg-hsl: var(--beatmapset-ranked-bg-hsl); --colour: var(--beatmapset-ranked-colour);">Ranked</div></div><div class="beatmapset-panel__extra-item beatmapset-panel__extra-item--dots"><div class="beatmapset-panel__beatmap-icon"><i class="fal fa-extra-mode-osu"></i></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(105, 255, 161);"></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(247, 232, 93);"></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(255, 103, 108);"></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(216, 72, 167);"></div></div></a></div><div class="beatmapset-panel__menu-container"><div class="beatmapset-panel__menu"><span class="beatmapset-panel__menu-item beatmapset-panel__menu-item--disabled" title="sign in to favourite this beatmap"><span class="far fa-heart"></span></span><span class="beatmapset-panel__menu-item beatmapset-panel__menu-item--disabled" title="you need to sign in before downloading any beatmaps!"><span class="fas fa-file-download"></span></span></div></div></div><button class="beatmapset-panel__mobile-expand" type="button"><span class="fas fa-angle-down"></span></button></div></div></div><div class="beatmapsets__items-row"><div class="beatmapsets__item"><div class="beatmapset-panel beatmapset-panel--size-normal js-audio--player" data-audio-url="//b.ppy.sh/preview/1974048.mp3" style="--beatmaps-popup-transition-duration: 150ms;"><a class="beatmapset-panel__cover-container" href="https://osu.ppy.sh/beatmapsets/1974048"><div class="beatmapset-panel__cover-col beatmapset-panel__cover-col--play"><div class="beatmapset-cover beatmapset-cover--full" style="--bg: url(&quot;https://assets.ppy.sh/beatmaps/1974048/covers/list.jpg?1685309448&quot;); --bg-2x: url(&quot;https://assets.ppy.sh/beatmaps/1974048/covers/list@2x.jpg?1685309448&quot;);"></div></div><div class="beatmapset-panel__cover-col beatmapset-panel__cover-col--info"></div></a><div class="beatmapset-panel__content"><div class="beatmapset-panel__play-container"><button class="beatmapset-panel__play js-audio--play" type="button"><span class="play-button"></span></button><div class="beatmapset-panel__play-progress"><div class="circular-progress circular-progress--beatmapset-panel" title="0 / 1"><div class="circular-progress__label">1</div><div class="circular-progress__slice"><div class="circular-progress__circle"></div><div class="circular-progress__circle circular-progress__circle--fill"></div></div></div></div><div class="beatmapset-panel__play-icons"><div class="beatmapset-panel__play-icon" title="This beatmap contains video"><i class="fas fa-film"></i></div></div></div><div class="beatmapset-panel__info"><div class="beatmapset-panel__info-row beatmapset-panel__info-row--title"><a class="beatmapset-panel__main-link u-ellipsis-overflow" href="https://osu.ppy.sh/beatmapsets/1974048">disculpaa</a><div class="beatmapset-panel__badge-container"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--artist"><a class="beatmapset-panel__main-link u-ellipsis-overflow" href="https://osu.ppy.sh/beatmapsets/1974048">by Shikitashi</a><div class="beatmapset-panel__badge-container"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--source"><div class="u-ellipsis-overflow">beatmania IIDX 12 HAPPY SKY</div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--mapper"><div class="u-ellipsis-overflow">mapped by <a class="js-usercard beatmapset-panel__mapper-link u-hover" data-user-id="5159715" href="https://osu.ppy.sh/users/5159715">[-E S I A-]</a></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--stats"><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--favourite-count" title="Favourites: 4"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw far fa-heart"></i></span><span>4</span></div><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--play-count" title="Playcount: 371"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw fas fa-play-circle"></i></span><span>371</span></div><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--date"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw fas fa-check-circle"></i></span><time class="js-tooltip-time" datetime="2023-06-05T10:01:13Z" title="2023-06-05T10:01:13Z">5 Jun 2023</time></div></div><a class="beatmapset-panel__info-row beatmapset-panel__info-row--extra" href="https://osu.ppy.sh/beatmapsets/1974048"><div class="beatmapset-panel__extra-item"><div class="beatmapset-status beatmapset-status--panel" style="--bg-hsl: var(--beatmapset-ranked-bg-hsl); --colour: var(--beatmapset-ranked-colour);">Ranked</div></div><div class="beatmapset-panel__extra-item beatmapset-panel__extra-item--dots"><div class="beatmapset-panel__beatmap-icon"><i class="fal fa-extra-mode-taiko"></i></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(79, 205, 248);"></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(108, 255, 153);"></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(248, 225, 94);"></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(255, 122, 105);"></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(246, 76, 128);"></div></div></a></div><div class="beatmapset-panel__menu-container"><div class="beatmapset-panel__menu"><span class="beatmapset-panel__menu-item beatmapset-panel__menu-item--disabled" title="sign in to favourite this beatmap"><span class="far fa-heart"></span></span><span class="beatmapset-panel__menu-item beatmapset-panel__menu-item--disabled" title="you need to sign in before downloading any beatmaps!"><span class="fas fa-file-download"></span></span></div></div></div><button class="beatmapset-panel__mobile-expand" type="button"><span class="fas fa-angle-down"></span></button></div></div></div><div class="beatmapsets__items-row"><div class="beatmapsets__item"><div class="beatmapset-panel beatmapset-panel--size-normal js-audio--player" data-audio-url="//b.ppy.sh/preview/1721339.mp3" style="--beatmaps-popup-transition-duration: 150ms;"><a class="beatmapset-panel__cover-container" href="https://osu.ppy.sh/beatmapsets/1721339"><div class="beatmapset-panel__cover-col beatmapset-panel__cover-col--play"><div class="beatmapset-cover beatmapset-cover--full" style="--bg: url(&quot;https://assets.ppy.sh/beatmaps/1721339/covers/list.jpg?1685125803&quot;); --bg-2x: url(&quot;https://assets.ppy.sh/beatmaps/1721339/covers/list@2x.jpg?1685125803&quot;);"></div></div><div class="beatmapset-panel__cover-col beatmapset-panel__cover-col--info"></div></a><div class="beatmapset-panel__content"><div class="beatmapset-panel__play-container"><button class="beatmapset-panel__play js-audio--play" type="button"><span class="play-button"></span></button><div class="beatmapset-panel__play-progress"><div class="circular-progress circular-progress--beatmapset-panel" title="0 / 1"><div class="circular-progress__label">1</div><div class="circular-progress__slice"><div class="circular-progress__circle"></div><div class="circular-progress__circle circular-progress__circle--fill"></div></div></div></div><div class="beatmapset-panel__play-icons"></div></div><div class="beatmapset-panel__info"><div class="beatmapset-panel__info-row beatmapset-panel__info-row--title"><a class="beatmapset-panel__main-link u-ellipsis-overflow" href="https://osu.ppy.sh/beatmapsets/1721339">Medlennym belym</a><div class="beatmapset-panel__badge-container"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--artist"><a class="beatmapset-panel__main-link u-ellipsis-overflow" href="https://osu.ppy.sh/beatmapsets/1721339">by Kosmos na potolke</a><div class="beatmapset-panel__badge-container"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--source"><div class="u-ellipsis-overflow"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--mapper"><div class="u-ellipsis-overflow">mapped by <a class="js-usercard beatmapset-panel__mapper-link u-hover" data-user-id="15823344" href="https://osu.ppy.sh/users/15823344">Ryxliee</a></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--stats"><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--favourite-count" title="Favourites: 2"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw far fa-heart"></i></span><span>2</span></div><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--play-count" title="Playcount: 43"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw fas fa-play-circle"></i></span><span>43</span></div><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--date"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw fas fa-check-circle"></i></span><time class="js-tooltip-time" datetime="2023-06-05T09:02:11Z" title="2023-06-05T09:02:11Z">5 Jun 2023</time></div></div><a class="beatmapset-panel__info-row beatmapset-panel__info-row--extra" href="https://osu.ppy.sh/beatmapsets/1721339"><div class="beatmapset-panel__extra-item"><div class="beatmapset-status beatmapset-status--panel" style="--bg-hsl: var(--beatmapset-ranked-bg-hsl); --colour: var(--beatmapset-ranked-colour);">Ranked</div></div><div class="beatmapset-panel__extra-item beatmapset-panel__extra-item--dots"><div class="beatmapset-panel__beatmap-icon"><i class="fal fa-extra-mode-taiko"></i></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(237, 242, 91);"></div></div></a></div><div class="beatmapset-panel__menu-container"><div class="beatmapset-panel__menu"><span class="beatmapset-panel__menu-item beatmapset-panel__menu-item--disabled" title="sign in to favourite this beatmap"><span class="far fa-heart"></span></span><span class="beatmapset-panel__menu-item beatmapset-panel__menu-item--disabled" title="you need to sign in before downloading any beatmaps!"><span class="fas fa-file-download"></span></span></div></div></div><button class="beatmapset-panel__mobile-expand" type="button"><span class="fas fa-angle-down"></span></button></div></div></div><div class="beatmapsets__items-row"><div class="beatmapsets__item"><div class="beatmapset-panel beatmapset-panel--size-normal js-audio--player" data-audio-url="//b.ppy.sh/preview/1291582.mp3" style="--beatmaps-popup-transition-duration: 150ms;"><a class="beatmapset-panel__cover-container" href="https://osu.ppy.sh/beatmapsets/1291582"><div class="beatmapset-panel__cover-col beatmapset-panel__cover-col--play"><div class="beatmapset-cover beatmapset-cover--full" style="--bg: url(&quot;https://assets.ppy.sh/beatmaps/1291582/covers/list.jpg?1684791797&quot;); --bg-2x: url(&quot;https://assets.ppy.sh/beatmaps/1291582/covers/list@2x.jpg?1684791797&quot;);"></div></div><div class="beatmapset-panel__cover-col beatmapset-panel__cover-col--info"></div></a><div class="beatmapset-panel__content"><div class="beatmapset-panel__play-container"><button class="beatmapset-panel__play js-audio--play" type="button"><span class="play-button"></span></button><div class="beatmapset-panel__play-progress"><div class="circular-progress circular-progress--beatmapset-panel" title="0 / 1"><div class="circular-progress__label">1</div><div class="circular-progress__slice"><div class="circular-progress__circle"></div><div class="circular-progress__circle circular-progress__circle--fill"></div></div></div></div><div class="beatmapset-panel__play-icons"></div></div><div class="beatmapset-panel__info"><div class="beatmapset-panel__info-row beatmapset-panel__info-row--title"><a class="beatmapset-panel__main-link u-ellipsis-overflow" href="https://osu.ppy.sh/beatmapsets/1291582">WE EAT AT FIVE FIVE FIVE</a><div class="beatmapset-panel__badge-container"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--artist"><a class="beatmapset-panel__main-link u-ellipsis-overflow" href="https://osu.ppy.sh/beatmapsets/1291582">by Cardboard Box vs. STereochan</a><div class="beatmapset-panel__badge-container"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--source"><div class="u-ellipsis-overflow">Tachyon Epsilon</div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--mapper"><div class="u-ellipsis-overflow">mapped by <a class="js-usercard beatmapset-panel__mapper-link u-hover" data-user-id="2450614" href="https://osu.ppy.sh/users/2450614">ilikexd</a></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--stats"><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--favourite-count" title="Favourites: 36"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw far fa-heart"></i></span><span>36</span></div><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--play-count" title="Playcount: 13,889"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw fas fa-play-circle"></i></span><span>13.9K</span></div><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--date"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw fas fa-check-circle"></i></span><time class="js-tooltip-time" datetime="2023-06-05T05:04:57Z" title="2023-06-05T05:04:57Z">5 Jun 2023</time></div></div><a class="beatmapset-panel__info-row beatmapset-panel__info-row--extra" href="https://osu.ppy.sh/beatmapsets/1291582"><div class="beatmapset-panel__extra-item"><div class="beatmapset-status beatmapset-status--panel" style="--bg-hsl: var(--beatmapset-loved-bg-hsl); --colour: var(--beatmapset-loved-colour);">Loved</div></div><div class="beatmapset-panel__extra-item beatmapset-panel__extra-item--dots"><div class="beatmapset-panel__beatmap-icon"><i class="fal fa-extra-mode-mania"></i></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(253, 163, 101);"></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(255, 116, 106);"></div></div></a></div><div class="beatmapset-panel__menu-container"><div class="beatmapset-panel__menu"><span class="beatmapset-panel__menu-item beatmapset-panel__menu-item--disabled" title="sign in to favourite this beatmap"><span class="far fa-heart"></span></span><span class="beatmapset-panel__menu-item beatmapset-panel__menu-item--disabled" title="you need to sign in before downloading any beatmaps!"><span class="fas fa-file-download"></span></span></div></div></div><button class="beatmapset-panel__mobile-expand" type="button"><span class="fas fa-angle-down"></span></button></div></div></div><div class="beatmapsets__items-row"><div class="beatmapsets__item"><div class="beatmapset-panel beatmapset-panel--size-normal js-audio--player" data-audio-url="//b.ppy.sh/preview/463971.mp3" style="--beatmaps-popup-transition-duration: 150ms;"><a class="beatmapset-panel__cover-container" href="https://osu.ppy.sh/beatmapsets/463971"><div class="beatmapset-panel__cover-col beatmapset-panel__cover-col--play"><div class="beatmapset-cover beatmapset-cover--full" style="--bg: url(&quot;https://assets.ppy.sh/beatmaps/463971/covers/list.jpg?1684054401&quot;); --bg-2x: url(&quot;https://assets.ppy.sh/beatmaps/463971/covers/list@2x.jpg?1684054401&quot;);"></div></div><div class="beatmapset-panel__cover-col beatmapset-panel__cover-col--info"></div></a><div class="beatmapset-panel__content"><div class="beatmapset-panel__play-container"><button class="beatmapset-panel__play js-audio--play" type="button"><span class="play-button"></span></button><div class="beatmapset-panel__play-progress"><div class="circular-progress circular-progress--beatmapset-panel" title="0 / 1"><div class="circular-progress__label">1</div><div class="circular-progress__slice"><div class="circular-progress__circle"></div><div class="circular-progress__circle circular-progress__circle--fill"></div></div></div></div><div class="beatmapset-panel__play-icons"></div></div><div class="beatmapset-panel__info"><div class="beatmapset-panel__info-row beatmapset-panel__info-row--title"><a class="beatmapset-panel__main-link u-ellipsis-overflow" href="https://osu.ppy.sh/beatmapsets/463971">unravel</a><div class="beatmapset-panel__badge-container"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--artist"><a class="beatmapset-panel__main-link u-ellipsis-overflow" href="https://osu.ppy.sh/beatmapsets/463971">by TK from Ling tosite sigure</a><div class="beatmapset-panel__badge-container"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--source"><div class="u-ellipsis-overflow">東京喰種トーキョーグール</div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--mapper"><div class="u-ellipsis-overflow">mapped by <a class="js-usercard beatmapset-panel__mapper-link u-hover" data-user-id="2520707" href="https://osu.ppy.sh/users/2520707">Shoegazer</a></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--stats"><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--favourite-count" title="Favourites: 81"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw far fa-heart"></i></span><span>81</span></div><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--play-count" title="Playcount: 11,392"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw fas fa-play-circle"></i></span><span>11.4K</span></div><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--date"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw fas fa-check-circle"></i></span><time class="js-tooltip-time" datetime="2023-06-05T05:04:16Z" title="2023-06-05T05:04:16Z">5 Jun 2023</time></div></div><a class="beatmapset-panel__info-row beatmapset-panel__info-row--extra" href="https://osu.ppy.sh/beatmapsets/463971"><div class="beatmapset-panel__extra-item"><div class="beatmapset-status beatmapset-status--panel" style="--bg-hsl: var(--beatmapset-loved-bg-hsl); --colour: var(--beatmapset-loved-colour);">Loved</div></div><div class="beatmapset-panel__extra-item beatmapset-panel__extra-item--dots"><div class="beatmapset-panel__beatmap-icon"><i class="fal fa-extra-mode-mania"></i></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(255, 78, 111);"></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(241, 76, 135);"></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(227, 73, 154);"></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(212, 71, 171);"></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(196, 70, 185);"></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(177, 79, 196);"></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(153, 87, 206);"></div></div></a></div><div class="beatmapset-panel__menu-container"><div class="beatmapset-panel__menu"><span class="beatmapset-panel__menu-item beatmapset-panel__menu-item--disabled" title="sign in to favourite this beatmap"><span class="far fa-heart"></span></span><span class="beatmapset-panel__menu-item beatmapset-panel__menu-item--disabled" title="you need to sign in before downloading any beatmaps!"><span class="fas fa-file-download"></span></span></div></div></div><button class="beatmapset-panel__mobile-expand" type="button"><span class="fas fa-angle-down"></span></button></div></div></div><div class="beatmapsets__items-row"><div class="beatmapsets__item"><div class="beatmapset-panel beatmapset-panel--size-normal js-audio--player" data-audio-url="//b.ppy.sh/preview/1936860.mp3" style="--beatmaps-popup-transition-duration: 150ms;"><a class="beatmapset-panel__cover-container" href="https://osu.ppy.sh/beatmapsets/1936860"><div class="beatmapset-panel__cover-col beatmapset-panel__cover-col--play"><div class="beatmapset-cover beatmapset-cover--full" style="--bg: url(&quot;https://assets.ppy.sh/beatmaps/1936860/covers/list.jpg?1685320909&quot;); --bg-2x: url(&quot;https://assets.ppy.sh/beatmaps/1936860/covers/list@2x.jpg?1685320909&quot;);"></div></div><div class="beatmapset-panel__cover-col beatmapset-panel__cover-col--info"></div></a><div class="beatmapset-panel__content"><div class="beatmapset-panel__play-container"><button class="beatmapset-panel__play js-audio--play" type="button"><span class="play-button"></span></button><div class="beatmapset-panel__play-progress"><div class="circular-progress circular-progress--beatmapset-panel" title="0 / 1"><div class="circular-progress__label">1</div><div class="circular-progress__slice"><div class="circular-progress__circle"></div><div class="circular-progress__circle circular-progress__circle--fill"></div></div></div></div><div class="beatmapset-panel__play-icons"></div></div><div class="beatmapset-panel__info"><div class="beatmapset-panel__info-row beatmapset-panel__info-row--title"><a class="beatmapset-panel__main-link u-ellipsis-overflow" href="https://osu.ppy.sh/beatmapsets/1936860">multiband depression</a><div class="beatmapset-panel__badge-container"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--artist"><a class="beatmapset-panel__main-link u-ellipsis-overflow" href="https://osu.ppy.sh/beatmapsets/1936860">by Tenchio</a><div class="beatmapset-panel__badge-container"><a class="beatmapset-badge beatmapset-badge--featured_artist" href="https://osu.ppy.sh/beatmaps/artists/tracks/6822">Featured artist</a></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--source"><div class="u-ellipsis-overflow"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--mapper"><div class="u-ellipsis-overflow">mapped by <a class="js-usercard beatmapset-panel__mapper-link u-hover" data-user-id="11394892" href="https://osu.ppy.sh/users/11394892">chwisuwu</a></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--stats"><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--favourite-count" title="Favourites: 25"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw far fa-heart"></i></span><span>25</span></div><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--play-count" title="Playcount: 188"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw fas fa-play-circle"></i></span><span>188</span></div><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--date"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw fas fa-check-circle"></i></span><time class="js-tooltip-time" datetime="2023-06-05T03:01:36Z" title="2023-06-05T03:01:36Z">5 Jun 2023</time></div></div><a class="beatmapset-panel__info-row beatmapset-panel__info-row--extra" href="https://osu.ppy.sh/beatmapsets/1936860"><div class="beatmapset-panel__extra-item"><div class="beatmapset-status beatmapset-status--panel" style="--bg-hsl: var(--beatmapset-ranked-bg-hsl); --colour: var(--beatmapset-ranked-colour);">Ranked</div></div><div class="beatmapset-panel__extra-item beatmapset-panel__extra-item--dots"><div class="beatmapset-panel__beatmap-icon"><i class="fal fa-extra-mode-mania"></i></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(255, 104, 108);"></div></div></a></div><div class="beatmapset-panel__menu-container"><div class="beatmapset-panel__menu"><span class="beatmapset-panel__menu-item beatmapset-panel__menu-item--disabled" title="sign in to favourite this beatmap"><span class="far fa-heart"></span></span><span class="beatmapset-panel__menu-item beatmapset-panel__menu-item--disabled" title="you need to sign in before downloading any beatmaps!"><span class="fas fa-file-download"></span></span></div></div></div><button class="beatmapset-panel__mobile-expand" type="button"><span class="fas fa-angle-down"></span></button></div></div></div><div class="beatmapsets__items-row"><div class="beatmapsets__item"><div class="beatmapset-panel beatmapset-panel--size-normal js-audio--player" data-audio-url="//b.ppy.sh/preview/1964312.mp3" style="--beatmaps-popup-transition-duration: 150ms;"><a class="beatmapset-panel__cover-container" href="https://osu.ppy.sh/beatmapsets/1964312"><div class="beatmapset-panel__cover-col beatmapset-panel__cover-col--play"><div class="beatmapset-cover beatmapset-cover--full" style="--bg: url(&quot;https://assets.ppy.sh/beatmaps/1964312/covers/list.jpg?1685010119&quot;); --bg-2x: url(&quot;https://assets.ppy.sh/beatmaps/1964312/covers/list@2x.jpg?1685010119&quot;);"></div></div><div class="beatmapset-panel__cover-col beatmapset-panel__cover-col--info"></div></a><div class="beatmapset-panel__content"><div class="beatmapset-panel__play-container"><button class="beatmapset-panel__play js-audio--play" type="button"><span class="play-button"></span></button><div class="beatmapset-panel__play-progress"><div class="circular-progress circular-progress--beatmapset-panel" title="0 / 1"><div class="circular-progress__label">1</div><div class="circular-progress__slice"><div class="circular-progress__circle"></div><div class="circular-progress__circle circular-progress__circle--fill"></div></div></div></div><div class="beatmapset-panel__play-icons"></div></div><div class="beatmapset-panel__info"><div class="beatmapset-panel__info-row beatmapset-panel__info-row--title"><a class="beatmapset-panel__main-link u-ellipsis-overflow" href="https://osu.ppy.sh/beatmapsets/1964312">The First Layer</a><div class="beatmapset-panel__badge-container"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--artist"><a class="beatmapset-panel__main-link u-ellipsis-overflow" href="https://osu.ppy.sh/beatmapsets/1964312">by Kevin Penkin</a><div class="beatmapset-panel__badge-container"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--source"><div class="u-ellipsis-overflow">メイドインアビス</div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--mapper"><div class="u-ellipsis-overflow">mapped by <a class="js-usercard beatmapset-panel__mapper-link u-hover" data-user-id="28455993" href="https://osu.ppy.sh/users/28455993">Shiro_122</a></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--stats"><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--favourite-count" title="Favourites: 12"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw far fa-heart"></i></span><span>12</span></div><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--play-count" title="Playcount: 363"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw fas fa-play-circle"></i></span><span>363</span></div><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--date"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw fas fa-check-circle"></i></span><time class="js-tooltip-time" datetime="2023-06-05T01:24:52Z" title="2023-06-05T01:24:52Z">5 Jun 2023</time></div></div><a class="beatmapset-panel__info-row beatmapset-panel__info-row--extra" href="https://osu.ppy.sh/beatmapsets/1964312"><div class="beatmapset-panel__extra-item"><div class="beatmapset-status beatmapset-status--panel" style="--bg-hsl: var(--beatmapset-ranked-bg-hsl); --colour: var(--beatmapset-ranked-colour);">Ranked</div></div><div class="beatmapset-panel__extra-item beatmapset-panel__extra-item--dots"><div class="beatmapset-panel__beatmap-icon"><i class="fal fa-extra-mode-mania"></i></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(79, 219, 240);"></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(79, 236, 228);"></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(120, 255, 103);"></div></div></a></div><div class="beatmapset-panel__menu-container"><div class="beatmapset-panel__menu"><span class="beatmapset-panel__menu-item beatmapset-panel__menu-item--disabled" title="sign in to favourite this beatmap"><span class="far fa-heart"></span></span><span class="beatmapset-panel__menu-item beatmapset-panel__menu-item--disabled" title="you need to sign in before downloading any beatmaps!"><span class="fas fa-file-download"></span></span></div></div></div><button class="beatmapset-panel__mobile-expand" type="button"><span class="fas fa-angle-down"></span></button></div></div></div><div class="beatmapsets__items-row"><div class="beatmapsets__item"><div class="beatmapset-panel beatmapset-panel--size-normal js-audio--player" data-audio-url="//b.ppy.sh/preview/1979194.mp3" style="--beatmaps-popup-transition-duration: 150ms;"><a class="beatmapset-panel__cover-container" href="https://osu.ppy.sh/beatmapsets/1979194"><div class="beatmapset-panel__cover-col beatmapset-panel__cover-col--play"><div class="beatmapset-cover beatmapset-cover--full" style="--bg: url(&quot;https://assets.ppy.sh/beatmaps/1979194/covers/list.jpg?1685172532&quot;); --bg-2x: url(&quot;https://assets.ppy.sh/beatmaps/1979194/covers/list@2x.jpg?1685172532&quot;);"></div></div><div class="beatmapset-panel__cover-col beatmapset-panel__cover-col--info"></div></a><div class="beatmapset-panel__content"><div class="beatmapset-panel__play-container"><button class="beatmapset-panel__play js-audio--play" type="button"><span class="play-button"></span></button><div class="beatmapset-panel__play-progress"><div class="circular-progress circular-progress--beatmapset-panel" title="0 / 1"><div class="circular-progress__label">1</div><div class="circular-progress__slice"><div class="circular-progress__circle"></div><div class="circular-progress__circle circular-progress__circle--fill"></div></div></div></div><div class="beatmapset-panel__play-icons"></div></div><div class="beatmapset-panel__info"><div class="beatmapset-panel__info-row beatmapset-panel__info-row--title"><a class="beatmapset-panel__main-link u-ellipsis-overflow" href="https://osu.ppy.sh/beatmapsets/1979194">My Sweet Maiden</a><div class="beatmapset-panel__badge-container"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--artist"><a class="beatmapset-panel__main-link u-ellipsis-overflow" href="https://osu.ppy.sh/beatmapsets/1979194">by Mia REGINA</a><div class="beatmapset-panel__badge-container"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--source"><div class="u-ellipsis-overflow">sin 七つの大罪</div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--mapper"><div class="u-ellipsis-overflow">mapped by <a class="js-usercard beatmapset-panel__mapper-link u-hover" data-user-id="3037469" href="https://osu.ppy.sh/users/3037469">Niks</a></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--stats"><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--favourite-count" title="Favourites: 14"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw far fa-heart"></i></span><span>14</span></div><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--play-count" title="Playcount: 164"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw fas fa-play-circle"></i></span><span>164</span></div><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--date"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw fas fa-check-circle"></i></span><time class="js-tooltip-time" datetime="2023-06-05T00:04:39Z" title="2023-06-05T00:04:39Z">5 Jun 2023</time></div></div><a class="beatmapset-panel__info-row beatmapset-panel__info-row--extra" href="https://osu.ppy.sh/beatmapsets/1979194"><div class="beatmapset-panel__extra-item"><div class="beatmapset-status beatmapset-status--panel" style="--bg-hsl: var(--beatmapset-ranked-bg-hsl); --colour: var(--beatmapset-ranked-colour);">Ranked</div></div><div class="beatmapset-panel__extra-item beatmapset-panel__extra-item--dots"><div class="beatmapset-panel__beatmap-icon"><i class="fal fa-extra-mode-mania"></i></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(132, 93, 214);"></div></div></a></div><div class="beatmapset-panel__menu-container"><div class="beatmapset-panel__menu"><span class="beatmapset-panel__menu-item beatmapset-panel__menu-item--disabled" title="sign in to favourite this beatmap"><span class="far fa-heart"></span></span><span class="beatmapset-panel__menu-item beatmapset-panel__menu-item--disabled" title="you need to sign in before downloading any beatmaps!"><span class="fas fa-file-download"></span></span></div></div></div><button class="beatmapset-panel__mobile-expand" type="button"><span class="fas fa-angle-down"></span></button></div></div></div><div class="beatmapsets__items-row"><div class="beatmapsets__item"><div class="beatmapset-panel beatmapset-panel--size-normal js-audio--player" data-audio-url="//b.ppy.sh/preview/1992686.mp3" style="--beatmaps-popup-transition-duration: 150ms;"><a class="beatmapset-panel__cover-container" href="https://osu.ppy.sh/beatmapsets/1992686"><div class="beatmapset-panel__cover-col beatmapset-panel__cover-col--play"><div class="beatmapset-cover beatmapset-cover--full" style="--bg: url(&quot;https://assets.ppy.sh/beatmaps/1992686/covers/list.jpg?1685049678&quot;); --bg-2x: url(&quot;https://assets.ppy.sh/beatmaps/1992686/covers/list@2x.jpg?1685049678&quot;);"></div></div><div class="beatmapset-panel__cover-col beatmapset-panel__cover-col--info"></div></a><div class="beatmapset-panel__content"><div class="beatmapset-panel__play-container"><button class="beatmapset-panel__play js-audio--play" type="button"><span class="play-button"></span></button><div class="beatmapset-panel__play-progress"><div class="circular-progress circular-progress--beatmapset-panel" title="0 / 1"><div class="circular-progress__label">1</div><div class="circular-progress__slice"><div class="circular-progress__circle"></div><div class="circular-progress__circle circular-progress__circle--fill"></div></div></div></div><div class="beatmapset-panel__play-icons"></div></div><div class="beatmapset-panel__info"><div class="beatmapset-panel__info-row beatmapset-panel__info-row--title"><a class="beatmapset-panel__main-link u-ellipsis-overflow" href="https://osu.ppy.sh/beatmapsets/1992686">METHOD_HYMME_LAIDERONETTE/.</a><div class="beatmapset-panel__badge-container"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--artist"><a class="beatmapset-panel__main-link u-ellipsis-overflow" href="https://osu.ppy.sh/beatmapsets/1992686">by stellatram</a><div class="beatmapset-panel__badge-container"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--source"><div class="u-ellipsis-overflow"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--mapper"><div class="u-ellipsis-overflow">mapped by <a class="js-usercard beatmapset-panel__mapper-link u-hover" data-user-id="9828042" href="https://osu.ppy.sh/users/9828042">Reywateil</a></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--stats"><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--favourite-count" title="Favourites: 12"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw far fa-heart"></i></span><span>12</span></div><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--play-count" title="Playcount: 557"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw fas fa-play-circle"></i></span><span>557</span></div><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--date"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw fas fa-check-circle"></i></span><time class="js-tooltip-time" datetime="2023-06-04T18:23:06Z" title="2023-06-04T18:23:06Z">4 Jun 2023</time></div></div><a class="beatmapset-panel__info-row beatmapset-panel__info-row--extra" href="https://osu.ppy.sh/beatmapsets/1992686"><div class="beatmapset-panel__extra-item"><div class="beatmapset-status beatmapset-status--panel" style="--bg-hsl: var(--beatmapset-ranked-bg-hsl); --colour: var(--beatmapset-ranked-colour);">Ranked</div></div><div class="beatmapset-panel__extra-item beatmapset-panel__extra-item--dots"><div class="beatmapset-panel__beatmap-icon"><i class="fal fa-extra-mode-osu"></i></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(255, 80, 111);"></div></div></a></div><div class="beatmapset-panel__menu-container"><div class="beatmapset-panel__menu"><span class="beatmapset-panel__menu-item beatmapset-panel__menu-item--disabled" title="sign in to favourite this beatmap"><span class="far fa-heart"></span></span><span class="beatmapset-panel__menu-item beatmapset-panel__menu-item--disabled" title="you need to sign in before downloading any beatmaps!"><span class="fas fa-file-download"></span></span></div></div></div><button class="beatmapset-panel__mobile-expand" type="button"><span class="fas fa-angle-down"></span></button></div></div></div><div class="beatmapsets__items-row"><div class="beatmapsets__item"><div class="beatmapset-panel beatmapset-panel--size-normal js-audio--player" data-audio-url="//b.ppy.sh/preview/1883953.mp3" style="--beatmaps-popup-transition-duration: 150ms;"><a class="beatmapset-panel__cover-container" href="https://osu.ppy.sh/beatmapsets/1883953"><div class="beatmapset-panel__cover-col beatmapset-panel__cover-col--play"><div class="beatmapset-cover beatmapset-cover--full" style="--bg: url(&quot;https://assets.ppy.sh/beatmaps/1883953/covers/list.jpg?1685248406&quot;); --bg-2x: url(&quot;https://assets.ppy.sh/beatmaps/1883953/covers/list@2x.jpg?1685248406&quot;);"></div></div><div class="beatmapset-panel__cover-col beatmapset-panel__cover-col--info"></div></a><div class="beatmapset-panel__content"><div class="beatmapset-panel__play-container"><button class="beatmapset-panel__play js-audio--play" type="button"><span class="play-button"></span></button><div class="beatmapset-panel__play-progress"><div class="circular-progress circular-progress--beatmapset-panel" title="0 / 1"><div class="circular-progress__label">1</div><div class="circular-progress__slice"><div class="circular-progress__circle"></div><div class="circular-progress__circle circular-progress__circle--fill"></div></div></div></div><div class="beatmapset-panel__play-icons"><div class="beatmapset-panel__play-icon" title="This beatmap contains storyboard"><i class="fas fa-image"></i></div></div></div><div class="beatmapset-panel__info"><div class="beatmapset-panel__info-row beatmapset-panel__info-row--title"><a class="beatmapset-panel__main-link u-ellipsis-overflow" href="https://osu.ppy.sh/beatmapsets/1883953">Tiny Light (Cut Ver.)</a><div class="beatmapset-panel__badge-container"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--artist"><a class="beatmapset-panel__main-link u-ellipsis-overflow" href="https://osu.ppy.sh/beatmapsets/1883953">by Kito Akari</a><div class="beatmapset-panel__badge-container"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--source"><div class="u-ellipsis-overflow">地縛少年花子くん</div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--mapper"><div class="u-ellipsis-overflow">mapped by <a class="js-usercard beatmapset-panel__mapper-link u-hover" data-user-id="11704080" href="https://osu.ppy.sh/users/11704080">ML-ysg</a></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--stats"><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--favourite-count" title="Favourites: 35"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw far fa-heart"></i></span><span>35</span></div><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--play-count" title="Playcount: 937"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw fas fa-play-circle"></i></span><span>937</span></div><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--date"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw fas fa-check-circle"></i></span><time class="js-tooltip-time" datetime="2023-06-04T18:03:44Z" title="2023-06-04T18:03:44Z">4 Jun 2023</time></div></div><a class="beatmapset-panel__info-row beatmapset-panel__info-row--extra" href="https://osu.ppy.sh/beatmapsets/1883953"><div class="beatmapset-panel__extra-item"><div class="beatmapset-status beatmapset-status--panel" style="--bg-hsl: var(--beatmapset-ranked-bg-hsl); --colour: var(--beatmapset-ranked-colour);">Ranked</div></div><div class="beatmapset-panel__extra-item beatmapset-panel__extra-item--dots"><div class="beatmapset-panel__beatmap-icon"><i class="fal fa-extra-mode-mania"></i></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(79, 211, 245);"></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(95, 255, 185);"></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(225, 243, 89);"></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(253, 167, 101);"></div></div></a></div><div class="beatmapset-panel__menu-container"><div class="beatmapset-panel__menu"><span class="beatmapset-panel__menu-item beatmapset-panel__menu-item--disabled" title="sign in to favourite this beatmap"><span class="far fa-heart"></span></span><span class="beatmapset-panel__menu-item beatmapset-panel__menu-item--disabled" title="you need to sign in before downloading any beatmaps!"><span class="fas fa-file-download"></span></span></div></div></div><button class="beatmapset-panel__mobile-expand" type="button"><span class="fas fa-angle-down"></span></button></div></div></div><div class="beatmapsets__items-row"><div class="beatmapsets__item"><div class="beatmapset-panel beatmapset-panel--size-normal js-audio--player" data-audio-url="//b.ppy.sh/preview/1967045.mp3" style="--beatmaps-popup-transition-duration: 150ms;"><a class="beatmapset-panel__cover-container" href="https://osu.ppy.sh/beatmapsets/1967045"><div class="beatmapset-panel__cover-col beatmapset-panel__cover-col--play"><div class="beatmapset-cover beatmapset-cover--full" style="--bg: url(&quot;https://assets.ppy.sh/beatmaps/1967045/covers/list.jpg?1685267488&quot;); --bg-2x: url(&quot;https://assets.ppy.sh/beatmaps/1967045/covers/list@2x.jpg?1685267488&quot;);"></div></div><div class="beatmapset-panel__cover-col beatmapset-panel__cover-col--info"></div></a><div class="beatmapset-panel__content"><div class="beatmapset-panel__play-container"><button class="beatmapset-panel__play js-audio--play" type="button"><span class="play-button"></span></button><div class="beatmapset-panel__play-progress"><div class="circular-progress circular-progress--beatmapset-panel" title="0 / 1"><div class="circular-progress__label">1</div><div class="circular-progress__slice"><div class="circular-progress__circle"></div><div class="circular-progress__circle circular-progress__circle--fill"></div></div></div></div><div class="beatmapset-panel__play-icons"></div></div><div class="beatmapset-panel__info"><div class="beatmapset-panel__info-row beatmapset-panel__info-row--title"><a class="beatmapset-panel__main-link u-ellipsis-overflow" href="https://osu.ppy.sh/beatmapsets/1967045">Shigatsu no Baka!</a><div class="beatmapset-panel__badge-container"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--artist"><a class="beatmapset-panel__main-link u-ellipsis-overflow" href="https://osu.ppy.sh/beatmapsets/1967045">by Good MEDiCiNE</a><div class="beatmapset-panel__badge-container"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--source"><div class="u-ellipsis-overflow"></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--mapper"><div class="u-ellipsis-overflow">mapped by <a class="js-usercard beatmapset-panel__mapper-link u-hover" data-user-id="5314573" href="https://osu.ppy.sh/users/5314573">lenpai</a></div></div><div class="beatmapset-panel__info-row beatmapset-panel__info-row--stats"><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--favourite-count" title="Favourites: 5"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw far fa-heart"></i></span><span>5</span></div><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--play-count" title="Playcount: 150"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw fas fa-play-circle"></i></span><span>150</span></div><div class="beatmapset-panel__stats-item beatmapset-panel__stats-item--date"><span class="beatmapset-panel__stats-item-icon"><i class="fa-fw fas fa-check-circle"></i></span><time class="js-tooltip-time" datetime="2023-06-04T16:24:51Z" title="2023-06-04T16:24:51Z">4 Jun 2023</time></div></div><a class="beatmapset-panel__info-row beatmapset-panel__info-row--extra" href="https://osu.ppy.sh/beatmapsets/1967045"><div class="beatmapset-panel__extra-item"><div class="beatmapset-status beatmapset-status--panel" style="--bg-hsl: var(--beatmapset-ranked-bg-hsl); --colour: var(--beatmapset-ranked-colour);">Ranked</div></div><div class="beatmapset-panel__extra-item beatmapset-panel__extra-item--dots"><div class="beatmapset-panel__beatmap-icon"><i class="fal fa-extra-mode-mania"></i></div><div class="beatmapset-panel__beatmap-dot" style="--bg: rgb(252, 180, 100);"></div></div></a></div><div class="beatmapset-panel__menu-container"><div class="beatmapset-panel__menu"><span class="beatmapset-panel__menu-item beatmapset-panel__menu-item--disabled" title="sign in to favourite this beatmap"><span class="far fa-heart"></span></span><span class="beatmapset-panel__menu-item beatmapset-panel__menu-item--disabled" title="you need to sign in before downloading any beatmaps!"><span class="fas fa-file-download"></span></span></div></div></div><button class="beatmapset-panel__mobile-expand" type="button"><span class="fas fa-angle-down"></span></button></div></div></div></div></div></div><div class="beatmapsets__paginator"><div></div><button type="button" class="show-more-link show-more-link--beatmapsets"><span class="show-more-link__spinner"><span class="la-ball-clip-rotate"></span></span><span class="show-more-link__label"><span class="show-more-link__label-icon show-more-link__label-icon--left"><span class="fas fa-angle-down"></span></span><span class="show-more-link__label-text">show more</span><span class="show-more-link__label-icon show-more-link__label-icon--right"><span class="fas fa-angle-down"></span></span></span></button></div></div></div><button class="back-to-top" data-tooltip-float="fixed" title="Back to top"><span class="fas fa-angle-up"></span></button></div></div></body></html>', 'html.parser')
        print(generate_locators_prediction_model(soup, soup.p, 'bbc_scaled.joblib'))

class TestRobustLocatorGeneration(unittest.TestCase):
    def test_generate_locators(self):
        from bs4 import BeautifulSoup
        file_path = 'C://Users//hilal.taha//Desktop//New folder//testing_page.html'

        with open(file_path, 'r', encoding='utf-8') as file:
            file_content = file.read()


        XC= XpathClass('bbc_scaled')
        # soup = BeautifulSoup('<html><body><div id="p1"><div><p>Hello</p></div><div><p id="p2">hi '
        #                      'again</p></div></div></body></html>', 'html.parser')
        soup = BeautifulSoup(file_content)

        print(XC.generate_locating_strategy_Xpath(soup.find_all(attrs={"class": "beatmapsets__item"}, limit=1)[0]))
        # print(XC.generate_locating_strategy_Xpath(soup.p))


if __name__ == '__main__':
    unittest.main()
